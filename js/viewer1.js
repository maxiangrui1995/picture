var markerData = [{
    id: 1,
    x: 0.13135799560547 * 11000,
    y: 0.3747878959276 * 11000,
    name: "9号控制箱A区1灯",
    str_device_id: "str6517645661389721600",
    icon: "images/ico_device/4/map/0.png"

  },
  {
    id: 2,
    x: 0.11635799560547 * 11000,
    y: 0.32953902714932 * 11000,
    name: "9号控制箱B区2灯",
    str_device_id: "str6517645661519745024",
    icon: "images/ico_device/4/map/0.png"

  },
  {
    id: 3,
    x: 0.14475799560547 * 11000,
    y: 0.35159785067873 * 11000,
    name: "9号控制箱A区3声光",
    str_device_id: "str6517645661649768448",
    icon: "images/ico_device/4/map/0.png"

  },
  {
    id: 4,
    x: 0.53527273004705 * 11000,
    y: 0.47891817959872 * 11000,
    name: "9号控制箱A区3声光",
    str_device_id: "str6517645661649768448",
    icon: "images/ico_device/4/map/0.png"

  },
  {
    id: 5,
    x: 0.15390222556374 * 11000,
    y: 0.2088031528556 * 11000,
    name: "9号控制箱B区4声光",
    str_device_id: "str6517645661716877312",
    icon: "images/ico_device/4/map/0.png"

  },
  {
    id: 6,
    x: 0.543616957231 * 11000,
    y: 0.65692043998024 * 11000,
    name: "9号控制箱B区4声光",
    str_device_id: "str6517645661716877312",
    icon: "images/ico_device/4/map/0.png"

  },
  {
    id: 7,
    x: 0.13642999267578 * 11000,
    y: 0.27717476408945 * 11000,
    name: "10号控制箱A区1灯",
    str_device_id: "str6517645662241165312",
    icon: "images/ico_device/4/map/0.png"

  },
  {
    id: 8,
    x: 0.15182999267578 * 11000,
    y: 0.26840779576366 * 11000,
    name: "10号控制箱B区2灯",
    str_device_id: "str6517645662371188736",
    icon: "images/ico_device/4/map/0.png"

  },
  {
    id: 9,
    x: 0.14102999267578 * 11000,
    y: 0.30149603105778 * 11000,
    name: "10号控制箱A区3声光",
    str_device_id: "str6517645662438297600",
    icon: "images/ico_device/4/map/0.png"

  },
  {
    id: 10,
    x: 0.16122999267578 * 11000,
    y: 0.28509331612565 * 11000,
    name: "10号控制箱B区4声光",
    str_device_id: "str6517645662568321024",
    icon: "images/ico_device/4/map/0.png"

  },
  {
    id: 11,
    x: 0.205811000488281 * 11000,
    y: 0.2602064382976 * 11000,
    name: "11号控制箱A区1灯",
    str_device_id: "str6517645663159717888",
    icon: "images/ico_device/4/map/0.png"

  },
  {
    id: 12,
    x: 0.235611000488281 * 11000,
    y: 0.26105485458719 * 11000,
    name: "11号控制箱B区2灯",
    str_device_id: "str6517645663289741312",
    icon: "images/ico_device/4/map/0.png"

  },
  {
    id: 13,
    x: 0.20182999267578 * 11000,
    y: 0.29074942472294 * 11000,
    name: "11号控制箱A区3声光",
    str_device_id: "str6517645663356850176",
    icon: "images/ico_device/4/map/0.png"

  },
  {
    id: 14,
    x: 0.234611000488281 * 11000,
    y: 0.28679014870484 * 11000,
    name: "11号控制箱B区4声光",
    str_device_id: "str6517645663486873600",
    icon: "images/ico_device/4/map/0.png"

  },
  {
    id: 15,
    x: 0.28802999267578 * 11000,
    y: 0.27095022244691 * 11000,
    name: "12号控制箱A区1灯",
    str_device_id: "str6517645664208293888",
    icon: "images/ico_device/4/map/0.png"

  },
  {
    id: 16,
    x: 0.315411000488281 * 11000,
    y: 0.2720842663519 * 11000,
    name: "12号控制箱B区2灯",
    str_device_id: "str6517645664338317312",
    icon: "images/ico_device/4/map/0.png"

  },
  {
    id: 17,
    x: 0.284011000488281 * 11000,
    y: 0.29386028445145 * 11000,
    name: "12号控制箱A区3声光",
    str_device_id: "str6517645664468340736",
    icon: "images/ico_device/4/map/0.png"

  },
  {
    id: 18,
    x: 0.314411000488281 * 11000,
    y: 0.29866797675914 * 11000,
    name: "12号控制箱B区4声光",
    str_device_id: "str6517645664598364160",
    icon: "images/ico_device/4/map/0.png"

  },
  {
    id: 19,
    x: 0.35977999267578 * 11000,
    y: 0.27589648665346 * 11000,
    name: "13号控制箱A区1灯",
    str_device_id: "str6517645665319784448",
    icon: "images/ico_device/4/map/0.png"

  },
  {
    id: 20,
    x: 0.38873798828125 * 11000,
    y: 0.26699659943041 * 11000,
    name: "13号控制箱B区2灯",
    str_device_id: "str6517645665386893312",
    icon: "images/ico_device/4/map/0.png"

  },
  {
    id: 21,
    x: 0.35653798828125 * 11000,
    y: 0.29669116956616 * 11000,
    name: "13号控制箱A区3声光",
    str_device_id: "str6517645665516916736",
    icon: "images/ico_device/4/map/0.png"

  },
  {
    id: 22,
    x: 0.40527273004705 * 11000,
    y: 0.55164545232599 * 11000,
    name: "13号控制箱A区3声光",
    str_device_id: "str6517645665516916736",
    icon: "images/ico_device/4/map/0.png"

  },
  {
    id: 23,
    x: 0.38833798828125 * 11000,
    y: 0.29782239128562 * 11000,
    name: "13号控制箱B区4声光",
    str_device_id: "str6517645665584025600",
    icon: "images/ico_device/4/map/0.png"

  },
  {
    id: 24,
    x: 0.44364599609375 * 11000,
    y: 0.2751498848065 * 11000,
    name: "14号控制箱A区1灯",
    str_device_id: "str6517645666175422464",
    icon: "images/ico_device/4/map/0.png"

  },
  {
    id: 25,
    x: 0.46024599609375 * 11000,
    y: 0.27486707937663 * 11000,
    name: "14号控制箱B区2灯",
    str_device_id: "str6517645666238337024",
    icon: "images/ico_device/4/map/0.png"

  },
  {
    id: 26,
    x: 0.44357198486328 * 11000,
    y: 0.29415440451505 * 11000,
    name: "14号控制箱A区3声光",
    str_device_id: "str6517645666368360448",
    icon: "images/ico_device/4/map/0.png"

  },
  {
    id: 27,
    x: 0.46274799804687 * 11000,
    y: 0.295486415110007 * 11000,
    name: "14号控制箱B区4声光",
    str_device_id: "str6517645666502578176",
    icon: "images/ico_device/4/map/0.png"

  },
  {
    id: 28,
    x: 0.49400798339844 * 11000,
    y: 0.27080316673037 * 11000,
    name: "15号控制箱A区1灯",
    str_device_id: "str6517645667089780736",
    icon: "images/ico_device/4/map/0.png"

  },
  {
    id: 29,
    x: 0.52600998535156 * 11000,
    y: 0.26571266899281 * 11000,
    name: "15号控制箱B区2灯",
    str_device_id: "str6517645667223998464",
    icon: "images/ico_device/4/map/0.png"

  },
  {
    id: 30,
    x: 0.50400998535156 * 11000,
    y: 0.26797511243173 * 11000,
    name: "15号控制箱A区3声光",
    str_device_id: "str6517645667286913024",
    icon: "images/ico_device/4/map/0.png"

  },
  {
    id: 31,
    x: 0.51380998535156 * 11000,
    y: 0.27363122102901 * 11000,
    name: "15号控制箱B区4声光",
    str_device_id: "str6517645667416936448",
    icon: "images/ico_device/4/map/0.png"

  },
  {
    id: 32,
    x: 0.55541201171875 * 11000,
    y: 0.27105768126061 * 11000,
    name: "16号控制箱A区1灯",
    str_device_id: "str6517645668075442176",
    icon: "images/ico_device/4/map/0.png"

  },
  {
    id: 33,
    x: 0.58941196289063 * 11000,
    y: 0.27134048669047 * 11000,
    name: "16号控制器B区2灯",
    str_device_id: "str6517645668205465600",
    icon: "images/ico_device/4/map/0.png"

  },
  {
    id: 34,
    x: 0.55581201171875 * 11000,
    y: 0.29905541881717 * 11000,
    name: "16号控制箱A区3声光",
    str_device_id: "str6517645668335489024",
    icon: "images/ico_device/4/map/0.png"

  },
  {
    id: 35,
    x: 0.58821196289063 * 11000,
    y: 0.29396492107961 * 11000,
    name: "16号控制箱B区4声光",
    str_device_id: "str6517645668465512448",
    icon: "images/ico_device/4/map/0.png"

  },
  {
    id: 36,
    x: 0.6362580078125 * 11000,
    y: 0.2769683216492 * 11000,
    name: "17号控制器A区1灯",
    str_device_id: "str6517645669124018176",
    icon: "images/ico_device/4/map/0.png"

  },
  {
    id: 37,
    x: 0.66582233741753 * 11000,
    y: 0.27563956385847 * 11000,
    name: "17号控制箱B区2灯",
    str_device_id: "str6517645669186932736",
    icon: "images/ico_device/4/map/0.png"

  },
  {
    id: 38,
    x: 0.63778275212064 * 11000,
    y: 0.29762490696307 * 11000,
    name: "17号控制箱A区3声光",
    str_device_id: "str6517645669321150464",
    icon: "images/ico_device/4/map/0.png"

  },
  {
    id: 39,
    x: 0.66682199707031 * 11000,
    y: 0.29501979707053 * 11000,
    name: "17号控制箱B区4声光",
    str_device_id: "str6517645669451173888",
    icon: "images/ico_device/4/map/0.png"

  },
  {
    id: 40,
    x: 0.71070625305176 * 11000,
    y: 0.27607600287531 * 11000,
    name: "18号控制箱A区1灯",
    str_device_id: "str6517645670172594176",
    icon: "images/ico_device/4/map/0.png"

  },
  {
    id: 41,
    x: 0.74008125305176 * 11000,
    y: 0.27651789417006 * 11000,
    name: "18号控制箱B区2灯",
    str_device_id: "str6517645670302617600",
    icon: "images/ico_device/4/map/0.png"

  },
  {
    id: 42,
    x: 0.70733598632812 * 11000,
    y: 0.29414875151345 * 11000,
    name: "18号控制箱A区3声光",
    str_device_id: "str6517645670432641024",
    icon: "images/ico_device/4/map/0.png"

  },
  {
    id: 43,
    x: 0.74007797851562 * 11000,
    y: 0.29506503834444 * 11000,
    name: "18号控制箱B区4声光",
    str_device_id: "str6517645670499749888",
    icon: "images/ico_device/4/map/0.png"

  },
  {
    id: 44,
    x: 0.78951196289063 * 11000,
    y: 0.27953619978547 * 11000,
    name: "19号控制箱A区1灯",
    str_device_id: "str6517645671221170176",
    icon: "images/ico_device/4/map/0.png"

  },
  {
    id: 45,
    x: 0.81071196289062 * 11000,
    y: 0.27727092553048 * 11000,
    name: "19号控制箱B区2灯",
    str_device_id: "str6517645671351193600",
    icon: "images/ico_device/4/map/0.png"

  },
  {
    id: 46,
    x: 0.78771196289062 * 11000,
    y: 0.29593891471759 * 11000,
    name: "19号控制箱A区3声光",
    str_device_id: "str6517645671481217024",
    icon: "images/ico_device/4/map/0.png"

  },
  {
    id: 47,
    x: 0.81051196289062 * 11000,
    y: 0.28943438983071 * 11000,
    name: "19号控制箱B区4声光",
    str_device_id: "str6517645671481217025",
    icon: "images/ico_device/4/map/0.png"

  },
  {
    id: 48,
    x: 0.86330814001695 * 11000,
    y: 0.25887505178083 * 11000,
    name: "20号控制箱A区1灯",
    str_device_id: "str6517645672202637312",
    icon: "images/ico_device/4/map/0.png"

  },
  {
    id: 49,
    x: 0.8941729083751 * 11000,
    y: 0.26008447873534 * 11000,
    name: "20号控制箱B区2灯",
    str_device_id: "str6517645672332660736",
    icon: "images/ico_device/4/map/0.png"

  },
  {
    id: 50,
    x: 0.86527984427206 * 11000,
    y: 0.28834592718291 * 11000,
    name: "20号控制箱A区3声光",
    str_device_id: "str6517645672466878464",
    icon: "images/ico_device/4/map/0.png"

  },
  {
    id: 51,
    x: 0.89165718510466 * 11000,
    y: 0.2896087090139 * 11000,
    name: "20号控制箱B区4声光",
    str_device_id: "str6517645672596901888",
    icon: "images/ico_device/4/map/0.png"

  },
  {
    id: 52,
    x: 0.92125155850776 * 11000,
    y: 0.31900398929472 * 11000,
    name: "21号控制箱A区1灯",
    str_device_id: "str6517645673385431040",
    icon: "images/ico_device/4/map/0.png"

  },
  {
    id: 53,
    x: 0.92879558059404 * 11000,
    y: 0.32785681440015 * 11000,
    name: "21号控制箱B区2灯",
    str_device_id: "str6517645673448345600",
    icon: "images/ico_device/4/map/0.png"

  },
  {
    id: 54,
    x: 0.92231196289063 * 11000,
    y: 0.30187499792867 * 11000,
    name: "21号控制箱A区3声光",
    str_device_id: "str6517645673515454464",
    icon: "images/ico_device/4/map/0.png"

  },
  {
    id: 55,
    x: 0.94285531673791 * 11000,
    y: 0.32635837281847 * 11000,
    name: "21号控制箱B区4声光",
    str_device_id: "str6517645673645477888",
    icon: "images/ico_device/4/map/0.png"

  },
  {
    id: 56,
    x: 0.91892797851563 * 11000,
    y: 0.35480485458719 * 11000,
    name: "22号控制箱A区1灯",
    str_device_id: "str6517645674236874752",
    icon: "images/ico_device/4/map/0.png"

  },
  {
    id: 57,
    x: 0.90092825643671 * 11000,
    y: 0.38237907876331 * 11000,
    name: "22号控制箱B区2灯",
    str_device_id: "str6517645674366898176",
    icon: "images/ico_device/4/map/0.png"

  },
  {
    id: 58,
    x: 0.91922762504914 * 11000,
    y: 0.37230795240334 * 11000,
    name: "22号控制箱A区3声光",
    str_device_id: "str6517645674496921600",
    icon: "images/ico_device/4/map/0.png"

  },
  {
    id: 59,
    x: 0.91101126424921 * 11000,
    y: 0.38958390779889 * 11000,
    name: "22号控制箱B区4声光",
    str_device_id: "str6517645674626945024",
    icon: "images/ico_device/4/map/0.png"

  },
  {
    id: 60,
    x: 0.87937856230346 * 11000,
    y: 0.40327167104013 * 11000,
    name: "23号控制箱A区1灯",
    str_device_id: "str6517645675285450752",
    icon: "images/ico_device/4/map/0.png"

  },
  {
    id: 61,
    x: 0.86139114091981 * 11000,
    y: 0.42431364968355 * 11000,
    name: "23号控制箱B区2灯",
    str_device_id: "str6517645675415474176",
    icon: "images/ico_device/4/map/0.png"

  },
  {
    id: 62,
    x: 0.88803517467571 * 11000,
    y: 0.419078911000422 * 11000,
    name: "23号控制箱A区3声光",
    str_device_id: "str6517645675545497600",
    icon: "images/ico_device/4/map/0.png"

  },
  {
    id: 63,
    x: 0.87711197509766 * 11000,
    y: 0.42721718145172 * 11000,
    name: "23号控制箱B区4声光",
    str_device_id: "str6517645675612606464",
    icon: "images/ico_device/4/map/0.png"

  },
  {
    id: 64,
    x: 0.86085026962952 * 11000,
    y: 0.46062943742082 * 11000,
    name: "24号控制箱A区1灯",
    str_device_id: "str6517645676334026752",
    icon: "images/ico_device/4/map/0.png"

  },
  {
    id: 65,
    x: 0.84655844634434 * 11000,
    y: 0.46491819899927 * 11000,
    name: "24号控制箱B区2灯",
    str_device_id: "str6517645676464050176",
    icon: "images/ico_device/4/map/0.png"

  },
  {
    id: 66,
    x: 0.87365781004324 * 11000,
    y: 0.46375887831448 * 11000,
    name: "24号控制箱A区3声光",
    str_device_id: "str6517645676594073600",
    icon: "images/ico_device/4/map/0.png"

  },
  {
    id: 67,
    x: 0.84643266018082 * 11000,
    y: 0.48456613641036 * 11000,
    name: "24号控制箱B区4声光",
    str_device_id: "str6517645676724097024",
    icon: "images/ico_device/4/map/0.png"

  },
  {
    id: 68,
    x: 0.62705600585938 * 11000,
    y: 0.28376131359808 * 11000,
    name: "17号控制箱A2区报警",
    str_device_id: "str6517645707858415616",
    icon: "images/ico_device/3/map/0.png"

  },
  {
    id: 69,
    x: 0.54561201171875 * 11000,
    y: 0.2837839256045 * 11000,
    name: "16号控制箱A2区报警",
    str_device_id: "str6517645717035552768",
    icon: "images/ico_device/3/map/0.png"

  },
  {
    id: 70,
    x: 0.88860624877162 * 11000,
    y: 0.40639757397843 * 11000,
    name: "23号控制箱A2区报警",
    str_device_id: "str6517645849160323072",
    icon: "images/ico_device/3/map/0.png"

  },
  {
    id: 71,
    x: 0.56101201171875 * 11000,
    y: 0.28350112017463 * 11000,
    name: "16号控制箱A1区报警",
    str_device_id: "str6517646089305198592",
    icon: "images/ico_device/3/map/0.png"

  },
  {
    id: 72,
    x: 0.34482998046875 * 11000,
    y: 0.28565892698538 * 11000,
    name: "13号控制箱A2区报警",
    str_device_id: "str6517648471611150336",
    icon: "images/ico_device/3/map/0.png"

  },
  {
    id: 73,
    x: 0.14795799560547 * 11000,
    y: 0.37195984162896 * 11000,
    name: "9号控制箱A2区报警",
    str_device_id: "str6517650219029499904",
    icon: "images/ico_device/3/map/0.png"

  },
  {
    id: 74,
    x: 0.92564271938876 * 11000,
    y: 0.36380510615082 * 11000,
    name: "22号控制箱A2区报警",
    str_device_id: "str6517650798048972800",
    icon: "images/ico_device/3/map/0.png"

  },
  {
    id: 75,
    x: 0.14055599365234 * 11000,
    y: 0.28655260180995 * 11000,
    name: "10号控制箱A1区报警",
    str_device_id: "str6517652115295309824",
    icon: "images/ico_device/3/map/0.png"

  },
  {
    id: 76,
    x: 0.86058108539701 * 11000,
    y: 0.47023470405155 * 11000,
    name: "24号控制箱A1区报警",
    str_device_id: "str6517652343654191104",
    icon: "images/ico_device/3/map/0.png"

  },
  {
    id: 77,
    x: 0.86598737224843 * 11000,
    y: 0.46230438796758 * 11000,
    name: "24号控制箱A2区报警",
    str_device_id: "str6517652345487101952",
    icon: "images/ico_device/3/map/0.png"

  },
  {
    id: 78,
    x: 0.19202799682617 * 11000,
    y: 0.27066741701704 * 11000,
    name: "11号控制箱A2区报警",
    str_device_id: "str6517653322495692800",
    icon: "images/ico_device/3/map/0.png"

  },
  {
    id: 79,
    x: 0.13055599365234 * 11000,
    y: 0.29503676470588 * 11000,
    name: "10号控制箱A2区报警",
    str_device_id: "str6517660438988066816",
    icon: "images/ico_device/3/map/0.png"

  },
  {
    id: 80,
    x: 0.268411000488281 * 11000,
    y: 0.27887159666864 * 11000,
    name: "12号控制箱A2区报警",
    str_device_id: "str6517666916096544768",
    icon: "images/ico_device/3/map/0.png"

  },
  {
    id: 81,
    x: 0.71144965789603 * 11000,
    y: 0.28609158866614 * 11000,
    name: "18号控制箱A1区报警",
    str_device_id: "str6517667153955524608",
    icon: "images/ico_device/3/map/0.png"

  },
  {
    id: 82,
    x: 0.77291196289062 * 11000,
    y: 0.28773755725153 * 11000,
    name: "19号控制箱A2区报警",
    str_device_id: "str6517672627845206016",
    icon: "images/ico_device/3/map/0.png"

  },
  {
    id: 83,
    x: 0.69667998046875 * 11000,
    y: 0.2843184320096 * 11000,
    name: "18号控制箱A2区报警",
    str_device_id: "str6517703397846552576",
    icon: "images/ico_device/3/map/0.png"

  },
  {
    id: 84,
    x: 0.87624398093553 * 11000,
    y: 0.41406471393526 * 11000,
    name: "23号控制箱A1区报警",
    str_device_id: "str6517771171801337856",
    icon: "images/ico_device/3/map/0.png"

  },
  {
    id: 85,
    x: 0.91075969192217 * 11000,
    y: 0.36531648595167 * 11000,
    name: "22号控制箱A1区报警",
    str_device_id: "str6517772799954653184",
    icon: "images/ico_device/3/map/0.png"

  },
  {
    id: 86,
    x: 0.86991201171875 * 11000,
    y: 0.27246606403886 * 11000,
    name: "20号控制箱A1区报警",
    str_device_id: "str6517903173036806144",
    icon: "images/ico_device/3/map/0.png"

  },
  {
    id: 87,
    x: 0.78731196289062 * 11000,
    y: 0.28434389209316 * 11000,
    name: "19号控制箱A1区报警",
    str_device_id: "str6517947212507385856",
    icon: "images/ico_device/3/map/0.png"

  },
  {
    id: 88,
    x: 0.85185200195313 * 11000,
    y: 0.48596434787388 * 11000,
    name: "24号控制箱B3区报警",
    str_device_id: "str6517960404855951360",
    icon: "images/ico_device/3/map/0.png"

  },
  {
    id: 89,
    x: 0.84215341244104 * 11000,
    y: 0.47600283019064 * 11000,
    name: "24号控制箱B4区报警",
    str_device_id: "str6517960653590761472",
    icon: "images/ico_device/3/map/0.png"

  },
  {
    id: 90,
    x: 0.74462261079992 * 11000,
    y: 0.28819918770322 * 11000,
    name: "18号控制箱B4区报警",
    str_device_id: "str6518007350710767616",
    icon: "images/ico_device/3/map/0.png"

  },
  {
    id: 91,
    x: 0.13375799560547 * 11000,
    y: 0.36036481900452 * 11000,

    str_device_id: "str6518018747976912896",
    icon: "images/ico_device/3/map/0.png"

  },
  {
    id: 92,
    x: 0.86718737716195 * 11000,
    y: 0.44073612218561 * 11000,
    name: "23号控制箱B4区报警",
    str_device_id: "str6518019279613333504",
    icon: "images/ico_device/3/map/0.png"

  },
  {
    id: 93,
    x: 0.8709259765625 * 11000,
    y: 0.42267815775461 * 11000,
    name: "23号控制箱B3区报警",
    str_device_id: "str6518019896817750016",
    icon: "images/ico_device/3/map/0.png"

  },
  {
    id: 94,
    x: 0.12575799560547 * 11000,
    y: 0.34113404977376 * 11000,
    name: "9号控制箱B3区报警",
    str_device_id: "str6518020448318394368",
    icon: "images/ico_device/3/map/0.png"

  },
  {
    id: 95,
    x: 0.12475799560547 * 11000,
    y: 0.31964083710407 * 11000,
    name: "9号控制箱B4区报警",
    str_device_id: "str6518020842075459584",
    icon: "images/ico_device/3/map/0.png"

  },
  {
    id: 96,
    x: 0.90586158608491 * 11000,
    y: 0.38583213404605 * 11000,
    name: "22号控制箱B3区报警",
    str_device_id: "str6518021669930405888",
    icon: "images/ico_device/3/map/0.png"

  },
  {
    id: 97,
    x: 0.15195599365234 * 11000,
    y: 0.27778563348416 * 11000,
    name: "10号控制箱B3区报警",
    str_device_id: "str6518021934884589568",
    icon: "images/ico_device/3/map/0.png"

  },
  {
    id: 98,
    x: 0.16520500183105 * 11000,
    y: 0.27095085135952 * 11000,
    name: "10号控制箱B4区报警",
    str_device_id: "str6518022391770124288",
    icon: "images/ico_device/3/map/0.png"

  },
  {
    id: 99,
    x: 0.93791192972435 * 11000,
    y: 0.33795463185461 * 11000,
    name: "21号控制箱B4区报警",
    str_device_id: "str6518022976409964544",
    icon: "images/ico_device/3/map/0.png"

  },
  {
    id: 100,
    x: 0.93531196289063 * 11000,
    y: 0.31262160426351 * 11000,
    name: "21号控制箱B3区报警",
    str_device_id: "str6518023321739595776",
    icon: "images/ico_device/3/map/0.png"

  },
  {
    id: 101,
    x: 0.208211000488281 * 11000,
    y: 0.27236707178176 * 11000,
    name: "11号控制箱A1区报警",
    str_device_id: "str6518025623363915776",
    icon: "images/ico_device/3/map/0.png"

  },
  {
    id: 102,
    x: 0.85502198417232 * 11000,
    y: 0.27925299156396 * 11000,
    name: "20号控制箱A2区报警",
    str_device_id: "str6518025761222299648",
    icon: "images/ico_device/3/map/0.png"

  },
  {
    id: 103,
    x: 0.224011000488281 * 11000,
    y: 0.27406390436095 * 11000,
    name: "11号控制箱B3区报警",
    str_device_id: "str6518026146553008128",
    icon: "images/ico_device/3/map/0.png"

  },
  {
    id: 104,
    x: 0.236011000488281 * 11000,
    y: 0.27519512608041 * 11000,
    name: "11号控制箱B4区报警",
    str_device_id: "str6518026536531005440",
    icon: "images/ico_device/3/map/0.png"

  },
  {
    id: 105,
    x: 0.36162998046875 * 11000,
    y: 0.28622453784511 * 11000,
    name: "13号控制箱A1区报警",
    str_device_id: "str6518030423132475392",
    icon: "images/ico_device/3/map/0.png"

  },
  {
    id: 106,
    x: 0.91431201171875 * 11000,
    y: 0.29197962143842 * 11000,
    name: "21号控制箱A2区报警",
    str_device_id: "str6518030614644396032",
    icon: "images/ico_device/3/map/0.png"

  },
  {
    id: 107,
    x: 0.38242998046875 * 11000,
    y: 0.28537612155552 * 11000,
    name: "13号控制箱B3区报警",
    str_device_id: "str6518030750489513984",
    icon: "images/ico_device/3/map/0.png"

  },
  {
    id: 108,
    x: 0.39882998046875 * 11000,
    y: 0.2839620944062 * 11000,
    name: "13号控制箱B4区报警",
    str_device_id: "str6518031112311148544",
    icon: "images/ico_device/3/map/0.png"

  },
  {
    id: 109,
    x: 0.47509799804688 * 11000,
    y: 0.28347001572 * 11000,
    name: "14号控制箱B4区报警",
    str_device_id: "str6518031309632180224",
    icon: "images/ico_device/3/map/0.png"

  },
  {
    id: 110,
    x: 0.42609799804687 * 11000,
    y: 0.28233879400055 * 11000,
    name: "14号控制箱A2区报警",
    str_device_id: "str6518031826852777984",
    icon: "images/ico_device/3/map/0.png"

  },
  {
    id: 111,
    x: 0.44289799804688 * 11000,
    y: 0.28403562657973 * 11000,
    name: "14号控制箱A1区报警",
    str_device_id: "str6518032050451124224",
    icon: "images/ico_device/3/map/0.png"

  },
  {
    id: 112,
    x: 0.82451201171875 * 11000,
    y: 0.27840497806601 * 11000,
    name: "19号控制箱B4区报警",
    str_device_id: "str6518032749880676352",
    icon: "images/ico_device/3/map/0.png"

  },
  {
    id: 113,
    x: 0.46189799804687 * 11000,
    y: 0.28375282114987 * 11000,
    name: "14号控制箱B3区报警",
    str_device_id: "str6518032756285378560",
    icon: "images/ico_device/3/map/0.png"

  },
  {
    id: 114,
    x: 0.80631196289063 * 11000,
    y: 0.28123303236465 * 11000,
    name: "19号控制箱B3区报警",
    str_device_id: "str6518033157449584640",
    icon: "images/ico_device/3/map/0.png"

  },
  {
    id: 115,
    x: 0.49977397460938 * 11000,
    y: 0.2800791813777 * 11000,
    name: "15号控制箱A2区报警",
    str_device_id: "str6518033417345437696",
    icon: "images/ico_device/3/map/0.png"

  },
  {
    id: 116,
    x: 0.50057397460938 * 11000,
    y: 0.25886877413789 * 11000,
    name: "15号控制箱A1区报警",
    str_device_id: "str6518033922234781696",
    icon: "images/ico_device/3/map/0.png"

  },
  {
    id: 117,
    x: 0.51881796875 * 11000,
    y: 0.25594455839822 * 11000,
    name: "15号控制箱B3区报警",
    str_device_id: "str6518034504072826880",
    icon: "images/ico_device/3/map/0.png"

  },
  {
    id: 118,
    x: 0.52004599609375 * 11000,
    y: 0.2791091608246 * 11000,
    name: "15号控制箱B4区报警",
    str_device_id: "str6518034955002449920",
    icon: "images/ico_device/3/map/0.png"

  },
  {
    id: 119,
    x: 0.72707998046875 * 11000,
    y: 0.28403562657973 * 11000,
    name: "18号控制箱B3区报警",
    str_device_id: "str6518035303859490816",
    icon: "images/ico_device/3/map/0.png"

  },
  {
    id: 120,
    x: 0.67485600585937 * 11000,
    y: 0.28376131359808 * 11000,
    name: "17号控制箱B4区报警",
    str_device_id: "str6518036285582479360",
    icon: "images/ico_device/3/map/0.png"

  },
  {
    id: 121,
    x: 0.58301000976563 * 11000,
    y: 0.2838150473202 * 11000,
    name: "16号控制箱B3区报警",
    str_device_id: "str6518036319766056960",
    icon: "images/ico_device/3/map/0.png"

  },
  {
    id: 122,
    x: 0.59541000976562 * 11000,
    y: 0.2829666310306 * 11000,
    name: "16号控制箱B4区报警",
    str_device_id: "str6518036781974163456",
    icon: "images/ico_device/3/map/0.png"

  },
  {
    id: 123,
    x: 0.64565600585937 * 11000,
    y: 0.28376131359808 * 11000,
    name: "17号控制箱A1区报警",
    str_device_id: "str6518037744566931456",
    icon: "images/ico_device/3/map/0.png"

  },
  {
    id: 124,
    x: 0.66205600585937 * 11000,
    y: 0.28432692445781 * 11000,
    name: "17号控制箱B3区报警",
    str_device_id: "str6518037791782211584",
    icon: "images/ico_device/3/map/0.png"

  },
  {
    id: 125,
    x: 0.9220786040684 * 11000,
    y: 0.31068474009282 * 11000,
    name: "21号控制箱A1区报警",
    str_device_id: "str6518047534634504192",
    icon: "images/ico_device/3/map/0.png"

  },
  {
    id: 126,
    x: 0.285811000488281 * 11000,
    y: 0.28113404010755 * 11000,
    name: "12号控制箱A1区报警",
    str_device_id: "str6518057326052642816",
    icon: "images/ico_device/3/map/0.png"

  },
  {
    id: 127,
    x: 0.309411000488281 * 11000,
    y: 0.2839620944062 * 11000,
    name: "12号控制箱B3区报警",
    str_device_id: "str6518057988844949504",
    icon: "images/ico_device/3/map/0.png"

  },
  {
    id: 128,
    x: 0.325011000488281 * 11000,
    y: 0.28594173241525 * 11000,
    name: "12号控制箱B4区报警",
    str_device_id: "str6518058320442429440",
    icon: "images/ico_device/3/map/0.png"

  },
  {
    id: 129,
    x: 0.90011201171875 * 11000,
    y: 0.27274886946872 * 11000,
    name: "20号控制箱B4区报警",
    str_device_id: "str6518063388549976064",
    icon: "images/ico_device/3/map/0.png"

  },
  {
    id: 130,
    x: 0.88722637824292 * 11000,
    y: 0.27699421585375 * 11000,
    name: "20号控制箱B3区报警",
    str_device_id: "str6518063683896086528",
    icon: "images/ico_device/3/map/0.png"

  },
  {
    id: 131,
    x: 0.82701997375488 * 11000,
    y: 0.53803083051662 * 11000,
    name: "26号控制箱A1区报警",
    str_device_id: "str6519033298247749632",
    icon: "images/ico_device/3/map/0.png"

  },
];


function handleClick(){
  console.log(1);
  
}

$(function () {
  var canvasLine = null;
  // 加载机场大图
  var image = new Image();
  image.src = 'images/1.jpg';
  // 大图加载成功
  image.onload = function () {
    // 展示大图
    var ww = $("#vi-container").width();
    var hh = $("#vi-container").height();
    var imageW = 1920;
    var imageH = imageW * this.height / this.width;

    $('#viewer').attr('src', this.src).css({
      width: imageW,
      left: ww < imageW ? (ww - imageW) / 2 : (imageW - ww) / 2,
      top: hh < imageH ? (hh - imageH) / 2 : (imageH - hh) / 2
    });
    $('.loading').hide();

    var offsetX = $('#viewer').offset().left;
    var offsetY = $('#viewer').offset().top;
    var imageWidth = $('#viewer').width();

    // 展示标记
    $.each(markerData, function (i, m) {
      // 标记的点xy都是基于大图(6731*4761)
      // 底图的offset.left + left = m.x
      var left = m.x * imageWidth / 6731 + offsetX;
      var top = m.y * imageWidth / 6731 + offsetY;
      var style = "left:" + left + "px; top:" + top + "px;";

      var mark = "";
      mark += "<div class='mark' id='mark_" + m.id + "' style='" + style + "' title='" + m.name + "' data-index='" + i + "'>";
      mark += "<img src='" + m.icon + "'/>";
      mark += "</div>";

      $('#vi-container').append(mark);
    });

    canvasLine = new CanvasLine();
    canvasLine.draw();
  }

  // 禁用鼠标右击
  document.oncontextmenu = function () {
    event.returnValue = false;
  };

  // 标记是否正在被拖拽
  var markerMoving = false;

  // 大图拖拽事件
  $("#vi-container").on("mousedown", function (e) {
    // 判断左右击
    if (e.button === 2) return false;

    // 改变鼠标样式
    $("#vi-container").addClass('drag');

    if (markerMoving) return false;

    e.preventDefault();

    var abs_x = e.clientX - $("#viewer").offset().left;
    var abs_y = e.clientY - $("#viewer").offset().top;

    document.onmousemove = function (e) {
      e.preventDefault();

      $("#viewer").css({
        'left': e.pageX - abs_x,
        'top': e.pageY - abs_y
      });


      var imageWidth = $('#viewer').width();
      var offsetX = $('#viewer').offset().left;
      var offsetY = $('#viewer').offset().top;

      // 标记
      $.each(markerData, function (i, m) {
        var left = m.x * imageWidth / 6731 + offsetX;
        var top = m.y * imageWidth / 6731 + offsetY;
        $('#mark_' + m.id).css({
          left: left,
          top: top
        })
      })

      canvasLine.clear();
      canvasLine.draw();
    };
    document.onmouseup = function (e) {
      // 移除鼠标样式
      $("#vi-container").removeClass('drag');
      e.preventDefault();
      document.onmousemove = null;
      document.onmouseup = null;
      // 

      var imageWidth = $('#viewer').width();
      var offsetX = $('#viewer').offset().left;
      var offsetY = $('#viewer').offset().top;

      // 标记
      $.each(markerData, function (i, m) {
        var left = m.x * imageWidth / 6731 + offsetX;
        var top = m.y * imageWidth / 6731 + offsetY;
        $('#mark_' + m.id).css({
          left: left,
          top: top
        })
      })

      canvasLine.draw();
    }
  })

  // 大图缩放事件
  $("#vi-container").on("mousewheel DOMMouseScroll", function (e) {
    e.preventDefault();

    var oldWidth = $('#viewer')[0].offsetWidth;
    var oldHeight = $('#viewer')[0].offsetHeight;
    var oldLeft = $('#viewer')[0].offsetLeft;
    var oldTop = $('#viewer')[0].offsetTop;

    var scaleX = (e.clientX - oldLeft) / oldWidth; //比例
    var scaleY = (e.clientY - oldTop) / oldHeight;


    var wheel = e.originalEvent.wheelDelta || -e.originalEvent.detail;
    var delta = Math.max(-1, Math.min(1, wheel));

    if (delta < 0) {
      //向下滚动
      $('#viewer').css({
        width: $('#viewer').width() * 0.9 + 'px',
      });

    } else {
      //向上滚动
      $('#viewer').css({
        width: $('#viewer').width() * 1.1 + 'px',
      })
    }

    var newWidth = $('#viewer')[0].offsetWidth;
    var newHeight = $('#viewer')[0].offsetHeight;

    $('#viewer')[0].style.left = oldLeft - scaleX * (newWidth - oldWidth) + "px";
    $('#viewer')[0].style.top = oldTop - scaleY * (newHeight - oldHeight) + "px";

    var imageWidth = $('#viewer').width();
    var offsetX = $('#viewer').offset().left;
    var offsetY = $('#viewer').offset().top;

    // 标记
    $.each(markerData, function (i, m) {
      var left = m.x * imageWidth / 6731 + offsetX;
      var top = m.y * imageWidth / 6731 + offsetY;
      $('#mark_' + m.id).css({
        left: left,
        top: top
      })
    })

    canvasLine.draw();
  })

  // 标记拖拽事件
  $('#vi-container').on('mousedown', '.mark', function (e) {
    // 判断左右击

    if (e.button === 2) {
      // 右击，do something
      console.log('右击');

      $("body").append("<div id='box'><a onclick=handleClick>点击</a></div>")

      return;
    }

    markerMoving = true;
    e.preventDefault();


    var $marker = $(this);
    var $viewer = $('#viewer');
    var abs_x = e.clientX - $marker.offset().left;
    var abs_y = e.clientY - $marker.offset().top;

    var imageWidth = $viewer.width();

    document.onmousemove = function (e) {
      e.preventDefault();

      $marker.css({
        'left': e.pageX - abs_x + $marker.width() / 2,
        'top': e.pageY - abs_y + $marker.height() / 2,
        'cursor': 'move'
      });

      canvasLine.draw();
    }

    document.onmouseup = function (e) {
      e.preventDefault();
      document.onmousemove = null;
      document.onmouseup = null;

      $marker.css({
        'cursor': 'pointer'
      });

      markerMoving = false;
      // 反求标记相对与大图的坐标
      var left = ($marker.position().left - $viewer.offset().left) / (imageWidth / 6731);
      var top = ($marker.position().top - $viewer.offset().top) / (imageWidth / 6731);

      markerData[$marker.attr('data-index')].x = left;
      markerData[$marker.attr('data-index')].y = top;

    }

  })


  function CanvasLine() {
    this.canvas = $("#vi-container").find('canvas')[0];
    this.canvas.width = $("#vi-container").width();
    this.canvas.height = $("#vi-container").height();
    this.context = this.canvas.getContext("2d");
  }
  CanvasLine.prototype.clear = function () {
    this.canvas.width = $("#vi-container").width();
    this.canvas.height = $("#vi-container").height();
    this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);
  }
  CanvasLine.prototype.draw = function () {
    this.clear();
    var context = this.context;
    var ids = ["11", "12", "15"];
    context.beginPath();
    context.strokeStyle = '#fd8045';
    context.globalAlpha = 0.8;
    context.lineWidth = 2;
    $.each(markerData, function (i, m) {
      if (ids.indexOf(Number(m.id)) > -1 || ids.indexOf(String(m.id)) > -1) {
        var mark = $("#mark_" + m.id).position();

        if (m.id == ids[0]) {
          context.moveTo(mark.left, mark.top);
        } else {
          context.lineTo(mark.left, mark.top);
        }
      }
    })


    context.stroke();
  }
})